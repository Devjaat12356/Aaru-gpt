<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aaru-GPT</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400&display=swap'); /* Add Roboto for chat text */

        body {
            margin: 0;
            padding: 0;
            font-family: 'Dancing Script', cursive;
            background-color: #FFA19F;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            position: relative;
        }

        /* Welcome Popup Styling */
        .welcome-popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #FFD4DB, #EDCCD7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1002;
            opacity: 1;
            transition: opacity 0.5s ease-in-out;
        }

        .welcome-message {
            text-align: center;
            padding: 20px;
            border-radius: 20px;
            background-color: #EDCCD7;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            max-width: 400px;
        }

        .welcome-message h1 {
            font-size: 36px;
            margin-bottom: 20px;
            color: #444;
        }

        .welcome-message p {
            font-size: 18px;
            margin-bottom: 30px;
            color: #555;
        }

        .get-started-btn {
            padding: 15px 30px;
            background-color: #FFA19F;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            cursor: pointer;
        }

        /* Home screen styling */
        .home-screen {
            text-align: center;
            color: gray;
            opacity: 1;
            transition: opacity 0.5s ease-in-out;
            position: relative;
            z-index: 1;
        }

        .home-screen h1 {
            font-size: 36px;
            color: gray;
            margin-bottom: 10px;
        }

        .home-screen p {
            font-size: 18px;
            margin: 5px 20px;
            color: gray;
        }

        .home-screen .teddy {
            margin: 20px 0;
            width: 200px;
            height: auto;
        }

        .home-screen .scan-message {
            font-size: 18px;
            color: gray;
            margin-top: 10px;
        }

        .home-screen .scan-button {
            background-color: #E79E99;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            cursor: pointer;
            margin-top: 10px;
            transition: background-color 0.3s;
        }

        .home-screen .scan-button:hover {
            background-color: #C87A76;
        }

        /* Input Area for Chat */
        .input-container {
            display: flex;
            justify-content: center;
            padding: 20px;
            margin-top: 20px;
        }

        .input-field {
            flex: 1;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #E79E99;
            font-size: 16px;
            outline: none;
            text-align: center;
            margin-right: 10px;
        }

        .send-button {
            background-color: #C87A76;
            color: white;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .send-button:hover {
            background-color: #E79E99;
        }

        .hidden {
            display: none;
        }

        /* Chat area styling */
        .chat-area {
            position: fixed;
            width: 400px;
            height: 500px;
            display: none;
            flex-direction: column;
            border-radius: 20px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            background-color: white;
            z-index: 1001;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%); /* Centering */
            font-family: 'Roboto', sans-serif; /* Only chat text */
        }

  .chat-header {
    background-color: #E79E99;
    color: white;
    padding: 10px;
    border-radius: 20px 20px 0 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-family: 'Dancing Script', cursive; /* Change this line to match home screen */
}

        .chat-header h3 {
            margin: 0;
        }

        .chat-header button {
            background-color: transparent;
            border: none;
            color: white;
            font-size: 18px;
            cursor: pointer;
        }

        .chat-content {
    padding: 10px;
    background-color: #f9f9f9; /* Light background */
    flex-grow: 1; /* Take up remaining space */
    overflow-y: auto; /* Enable scrolling for messages */
    display: flex;
    flex-direction: column; /* Stack messages vertically */
}
/* Simplified User message styling */
.user-message {
    background-color: #79C7C5; /* Primary color for user messages */
    color: white; /* Text color for user messages */
    align-self: flex-end; /* Align user messages to the right */
    padding: 10px 15px; /* Padding for bubbles */
    border-radius: 20px; /* Rounded corners */
    max-width: 75%; /* Maximum width for messages */
    margin: 5px 0; /* Space between messages */
    position: relative; /* Allow pseudo elements for shadows */
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); /* Shadow for depth */
}

/* Simplified Bot message styling */
.bot-message {
    background-color: #f0f0f0; /* Light gray for bot messages */
    color: black; /* Text color for bot messages */
    align-self: flex-start; /* Align bot messages to the left */
    padding: 10px 15px; /* Padding for bubbles */
    border-radius: 20px; /* Rounded corners */
    max-width: 75%; /* Maximum width for messages */
    margin: 5px 0; /* Space between messages */
    position: relative; /* Allow pseudo elements for shadows */
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); /* Shadow for depth */
}

/* Typing Indicator */
.typing-indicator {
    display: flex; /* Flex to align dots */
    align-items: center; /* Center vertically */
}

/* Dots for Typing Animation */
.dot {
    width: 8px;
    height: 8px;
    margin: 0 2px;
    background-color: #79C7C5; /* Primary color */
    border-radius: 50%; /* Circular dots */
    animation: bounce 0.5s infinite alternate; /* Bounce animation */
}

.dot:nth-child(2) {
    animation-delay: 0.2s; /* Delay for the second dot */
}

.dot:nth-child(3) {
    animation-delay: 0.4s; /* Delay for the third dot */
}

/* Fade-in for new messages */
@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

/* Apply fade-in animation when messages are added */
.message {
    animation: fadeIn 0.3s ease forwards; /* Fade-in animation */
}




        .input-container-chat {
            display: flex;
            padding: 10px;
            background-color: #E79E99;
            border-radius: 0 0 20px 20px;
        }

        .input-container-chat input {
            flex-grow: 1;
            padding: 10px;
            border: none;
            border-radius: 10px;
            margin-right: 10px;
            outline: none;
            font-size: 16px;
        }

        .input-container-chat button {
            background-color: #C87A76;
            color: white;
            padding: 10px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
        }

    </style>
</head>
<body>

    <!-- Welcome Popup -->
    <div class="welcome-popup" id="welcomePopup">
        <div class="welcome-message">
            <h1>Welcome to Aaru-GPT!</h1>
            <p>How may I help you? ü´∂üèª</p>
            <button class="get-started-btn" id="getStartedBtn">Get Started</button>
        </div>
    </div>

    <!-- Home Screen -->
    <div class="home-screen hidden" id="homeScreen">
        <h1>Welcome to Aaru-GPT!</h1>
        <p>Aaru AI helps you scan book pages and generates all types of questions.</p>
        <p>You can ask anything, download PDFs, and much more!</p>

        <!-- Teddy GIF -->
        <img src="https://media.tenor.com/DJZg821DI_IAAAAi/peach-goma-pc-bag-wiggling-paws.gif" alt="Teddy" class="teddy">

        <!-- Scan Button Message -->
        <p class="scan-message">Click below to scan a book page and get all questions!</p>

        <!-- Scan button -->
        <button class="scan-button" id="scanButton">Scan a book page</button>

        <!-- Input Area for Chat -->
        <div class="input-container">
            <input type="text" class="input-field" id="chatInputField" placeholder="Ask Aaru anything!">
            <button class="send-button" id="openChatBtn">Send</button>
        </div>
    </div>

    <!-- Chat Box -->
    <div class="chat-area" id="chatArea">
        <div class="chat-header">
            <h3>Aaru-GPT Chat</h3>
            <button id="closeChatBtn">Close</button>
        </div>
               <div class="chat-content" id="chatContent"></div>
        <div class="input-container-chat">
            <input type="text" id="chatInput" placeholder="Type your message...">
            <button id="sendMsgBtn">Send</button>
        </div>
    </div>

    <script>
        const welcomePopup = document.getElementById('welcomePopup');
        const getStartedBtn = document.getElementById('getStartedBtn');
        const homeScreen = document.getElementById('homeScreen');
        const openChatBtn = document.getElementById('openChatBtn');
        const chatArea = document.getElementById('chatArea');
        const closeChatBtn = document.getElementById('closeChatBtn');
        const chatContent = document.getElementById('chatContent');
        const chatInputField = document.getElementById('chatInputField');
        const sendMsgBtn = document.getElementById('sendMsgBtn');
        const chatInput = document.getElementById('chatInput');

        // Hide the welcome popup and show the home screen when "Get Started" is clicked
        getStartedBtn.addEventListener('click', () => {
            welcomePopup.style.opacity = '0'; // Fade out
            setTimeout(() => {
                welcomePopup.style.display = 'none'; // Hide after fade-out
                homeScreen.classList.remove('hidden'); // Show home screen
            }, 500); // Match the duration of the fade-out
        });

// Open chat and transfer input area text to chatbox as user message
openChatBtn.addEventListener('click', () => {
    chatArea.style.display = 'flex'; // Show chat area
    homeScreen.classList.add('hidden'); // Hide home screen

    // Add dummy input text as the first message in the chatbox
    const userMessage = chatInputField.value.trim();
    if (userMessage !== '') {
        const userMessageElem = document.createElement('div');
        userMessageElem.classList.add('message', 'user-message');
        userMessageElem.textContent = userMessage;
        chatContent.appendChild(userMessageElem);
        chatInputField.value = ''; // Clear the dummy input
    }
});


        // Close chat and show main content
        closeChatBtn.addEventListener('click', () => {
            chatArea.style.display = 'none'; // Hide chat area
            homeScreen.classList.remove('hidden'); // Show home screen
        });

        // Handle message sending
        sendMsgBtn.addEventListener('click', () => {
            const userMessage = chatInput.value.trim();
            if (userMessage !== '') {
                // Add user message to chat
                const userMessageElem = document.createElement('div');
                userMessageElem.classList.add('message', 'user-message');
                userMessageElem.textContent = userMessage;
                chatContent.appendChild(userMessageElem);

                // Simulate bot response
                const botMessageElem = document.createElement('div');
                botMessageElem.classList.add('message', 'bot-message');
                botMessageElem.textContent = 'Let me think...'; // Placeholder for now
                chatContent.appendChild(botMessageElem);

                chatInput.value = ''; // Clear input
            }
        });
    </script>
</body>
</html>
